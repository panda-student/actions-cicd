# 项目特定部署配置模板
# 每个项目仓库使用此模板配置自己的部署参数

name: 项目部署配置

on:
  push:
    branches:
      - main
      - develop
      - dev

jobs:
  deploy-prod:
    if: github.ref == 'refs/heads/main'
    name: 部署生产环境
    uses: ./.github/workflows/templates/universal-deploy.yml
    with:
      environment: 生产
      branch: main
      project_type: frontend  # 项目类型：frontend/csharp/python
      image_name: actions-cicd
      image_tag: prod
      port: 80
      server_label: production-server

  deploy-test:
    if: github.ref == 'refs/heads/dev' || github.ref == 'refs/heads/develop'
    name: 部署测试环境
    uses: ./.github/workflows/templates/universal-deploy.yml
    with:
      environment: 测试
      branch: dev
      project_type: frontend  # 项目类型：frontend/csharp/python
      image_name: actions-cicd
      image_tag: test
      port: 80
      server_label: test-server